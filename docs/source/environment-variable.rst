.. _environment-variable:

Переменные среды Windows
===============================

**Переменная окружения** (переменная среды́, *англ.* environment variable) — текстовая переменная операционной системы, хранящая какую-либо информацию — например, данные о настройках системы или сведения о текущем пользователе.

Работа с переменными
----------------------

В качестве примера можно привести переменную ``%APPDATA%``, которая указывает путь до папки, в которой хранятся настройки некоторых программ текущего пользователя. Обычно это ``C:\Documents And Settings\Пользователь\Application Data``, где *Пользователь* это изменяемое значение. Для каждой учетной записи используется своё имя пользователя.

Чтобы каждый раз не узнавать имя учетной записи текущего пользователя и не подставлять в путь к папке ``Application Data`` соответствующее значение и используется переменная окружения ``%APPDATA%``.

Это позволяет, к примеру, быстро открывать папку ``Application Data``, для этого в меню «*Пуск →Найти*» или в «*Пуск →Выполнить*» введите ``%APPDATA%`` и нажмите клавишу ``Enter``.

Чтобы получить значение переменной окружения через командную строку, используется команда ``echo``, например::

    echo %PROCESSOR_ARCHITECTURE%

Введенная в командной строке, эта комбинация отобразит архитектуру процессора текущего компьютера. Возможен один из трёх вариантов: ``x86``, ``IA64``, ``AMD64``.

Список переменных
-------------------

Далее приводится список основных переменных, более подробный список приведен в статье `Переменная среды Windows <https://ru.wikipedia.org/wiki/%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D1%80%D0%B5%D0%B4%D1%8B_Windows>`_.

.. csv-table:: Основные переменные
   :header: "Переменная", "Описание"
   :widths: 20, 80 

   ``%APPDATA%``, "Возвращает используемое по умолчанию размещение данных приложений. В Windows XP это ``C:\Documents and Settings\%UserName%\Application Data``. В Windows 7 - ``C:\Users\%UserName%\AppData\Roaming``."
   ``%PROCESSOR_ARCHITECTURE%``, "Архитектура процессора. Возможные варианты: ``x86``, ``IA64``, ``AMD64``."
   ``%USERNAME%``, "Имя текущего пользователя."
   ``%CD%``, "Указывает путь к текущему каталогу. Идентична команде ``CD`` без аргументов."
   ``%USERPROFILE%``, "Путь к профилю текущего пользователя."
   ``%WINDIR%``, "Каталог, в котором установлена Windows."
   ``%LOGONSERVER%``, "Имя контроллера домена, использовавшегося для авторизации текущего пользователя."
   ``%HOMEPATH%``, "Возвращает полный путь к основному каталогу пользователя. Задаётся на основании расположения основного каталога. Основной каталог пользователя указывается в оснастке «Локальные пользователи и группы»."
   ``%DATE%``, "Возвращает текущую дату. Использует тот же формат, что и команда ``date /t``. Создаётся командой ``Cmd.exe``."
   ``%TIME%``, "Возвращает текущее время. Использует тот же формат, что и команда ``time /t``. Создаётся командой ``Cmd.exe``."
   ``%COMPUTERNAME%``, "Имя компьютера."
   ``%TEMP%`` и ``%TMP%``, "Возвращает временные каталоги, по умолчанию используемые приложениями, которые доступны пользователям, выполнившим вход в систему. Некоторые приложения требуют переменную ``TEMP``, другие — переменную ``TMP``. Потенциально ``TEMP`` и ``TMP`` могут указывать на разные каталоги, но обычно совпадают."
   ``%PROGRAMFILES%``, "Путь к каталогу Program Files."
   ``%PROGRAMFILES(x86)%``, "Путь к каталогу ``Program Files (x86)`` в 64-разрядных системах для приложений архитектуры ``x86``."
   ``%PATH%``, "Указывает путь поиска исполняемых файлов."

Изменение переменных
------------------------

Чтобы изменить значение переменной, используется команда ``SET``, например::

    SET TEMP=C:\TEMP

.. warning:: Бездумное изменение стандартных значений переменных может привести к необратимым последствиям! 

Дополнительные ссылки
----------------------------------------------

* `Переменная среды Windows <https://ru.wikipedia.org/wiki/%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D1%80%D0%B5%D0%B4%D1%8B_Windows>`_
